---
kind: article
title: Virtualisierung für kleine und mittelständische Unternehmen
created_at: 2010-08-26
author: Christoph Leygraf
---

<p style="clear: both">Ich betreibe seit langer Zeit zwei <em>VMware Server 2.0</em>, auf denen ein Server und einige Desktops laufen. Als Betriebssystem kommt <em>CentOS 5.3 </em>zum Einsatz und die VMs werden teilweise lokal und teilweise mit DRBD gespiegelt vorgehalten. Es gab und es gibt jedoch einige grundsätzliche Probleme: Als erstes musste ich das Betriebssystem und die VM's tunen, um eine einigermaßen befriedigende Disk-I/O-Performance zu bekommen. Die Benutzer der virtuellen Desktops klagen seit einiger Zeit aber wieder über Performanceprobleme, d. h. die Applikationen reagieren träge und verzögert. Als weiteres Problem kommt hinzu, dass der <em>VMware Server </em>nicht mehr aktiv weiterentwickelt zu werden scheint und ich darum <em>CentOS </em>nicht upgraden kann, da <em>VMware Server </em>mit der aktualisierten glibc nicht kompatibel ist und daher reproduzierbar abstürzt.</p><p style="clear: both"><div>Jetzt muss ich mir die Frage stellen, wie es weitergehen soll. Da <em>VMware Serve</em>r keine Zukunft hat, sehe ich im Wesentlichen zwei Alternativen: <em>ESXi</em> oder <em>LINUX/KVM</em>.</div></p><p style="clear: both"><div><em>ESXi </em>ist eine weit verbreitete Technologie, mit der ich mich sehr gut auskenne. Möchte man jedoch die wirklich interessanten Enterprise-Features nutzen, kommen nennenswerte Lizenzkosten (für den <em>vCenter-Server</em>) auf einen zu. Darüber hinaus wird ein zentrales Storagesystem notwendig, z. B. eine iSCSI/NFS-Box. Aktuell spiegele ich ja die kritischen Daten mit DRBD synchron zwischen beiden Servern. Diese Funktion bietet mir aber weder der ESX-Server, noch die handelsüblichen NAS-Boxen.</div></p><p style="clear: both"><div><em>KVM</em> unter <em>LINUX</em> ist sicherlich eine zuverlässige Lösung und mit <em>LINUX</em> habe ich mehr als 15 Jahre Erfahrung. Mit <em>DRBD</em> und lokalen Platten lässt sich leicht eine beruhigende Redundanz der Daten sicherstellen. Doch beim Management der Virtualisierungsinfrastruktur klemmt es nach wie vor. VirtManager und ähnliche Tools zielen primär auf die Verwaltung einzelner Virtualisierungsserver, die umfassenden Möglichkeiten eines vCenters bieten sie nicht.</div></p><p style="clear: both"><div>Hier kommen sogenannte "Cloud-Frameworks" ins Spiel, die Virtualisierungsfarmen verwalten und automatisieren können:</div></p><p style="clear: both"><div><ul style="clear: both"><li><em>Eucalyptus</em>: Freie Software, die die <em>Amazon-Cloud-API</em> nachbildet. Die Storageserver bilden jedoch einen Single Point of Failure und Datenreplaktion scheint aktuell nicht vorgesehen zu sein.</li></ul></div></p><p style="clear: both"><div><ul style="clear: both"><li><em>Ganeti</em>: Ein von Google gehostetes Projekt, dass u. a. auch eine Datenreplikation mit <em>DRBD</em> vorsieht. In wie weit Windows-Gäste unterstüzt werden und wie der Im-/Export von bestehenden VMs möglich ist, habe ich leider noch nicht verstanden.</li></ul></div></p><p style="clear: both"><div><ul style="clear: both"><li><em>xCAT</em>, <em>Proxmox</em>, <em>OpenQRM</em>, ...</li></ul></div></p><p style="clear: both"><div>Welche dieser Frameworks sich durchsetzen werden und eine langfristige Perspektive bieten vermag ich momentan nicht beurteilen. Was also tun? Dem proprietären Pfad von VMware folgen oder auf offene Technolgien setzen, die jedoch vielleicht noch nicht ganz marktreif sind? Diese Entscheidung werde ich wohl vertagen und erst mal versuchen, die dringlichsten Probleme, also die mangelnde Performance der virtuellen Desktops, zu lösen. Meine Idee ist, einen Laptop mit Intel Core i7, einer SSD, einem aktuellen <em>Ubuntu</em> und <em>VMware Workstation</em> zu nehmen und darauf mal auszuloten, welche Performance so für die Benutzer der virtuellen Desktops erreicht werden kann. Mit der SSD kann ich Engpässen beim Disk-I/O ausschließen und echte 4 CPU-Cores mit 8 GB RAM sollten genug Leistung bringen, um zwei <em>Windows XP</em>-Instanzen zu betreiben.</div></p><p style="clear: both"></p><br class='final-break' style='clear: both' />
